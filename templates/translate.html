<html>
<head>

<style>
.flask-pagedown-input {
}
.flask-pagedown-preview {
    border: 1px dotted black;
    background-color: #f0f0f0;
}
body {
  border-radius: 5px;
  background-color: #FDFDFD;
  padding: 20px;
}
.content {
  max-width: 500px;
  margin: auto;
}
.textarea {
  width: 100%;
  height: 100px;
  padding: 12px 20px;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  font-size:90%;
}
.button {
  font-size:100%;
  cursor: pointer;
}

</style>
<title>TWB MT</title>
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
    <div class="content" style="width: 500px;">
        <h1 background-color: #FCFCFC;>TWB MT API Demo</h1>
        <hr>

        <br>
        <form id="myForm" method="POST">
          <div style="text-align:center;">

          <label>Language</label>
          <select id="srcbox" name="src">
             {% for key, value in api_models.items() %}
                <option value={{key}} {% if src == key %} selected {% endif %} >{{ api_languages[key] }}</option>
             {% endfor %}

              <!-- <option value="fr" {% if type == "text"%} selected {% endif %}>French</option> -->
          </select>
          <select id="tgtbox" name="tgt">
             {% for key, value in api_models[src].items() %}
                <option value={{key}} {% if tgt == key %} selected {% endif %} >{{ api_languages[key] }}</option>
             {% endfor %}
          </select>
          <br>
          <textarea name="message" rows="10" cols="60" wrap="soft">{{ source }}</textarea>
          <br>  
          <input type="submit" value="Translate"> 

        </form>

        <hr>

        <div>
            <div class="textarea" style="overflow:scroll;">{{ text1 }}</div>
        </div>
        {% if text2 %}
        <hr>
        <div>
            <p>Readable</p>
            <div class="textarea" style="overflow:scroll;">{{ text2 }}</div>
        </div>
        {% endif %}
    </div>

<script>
  $('#srcbox').on('change', function(){
    console.log($('#srcbox').val());
    $(this).closest('form').submit();
    
    // $('#tgtbox').html('');
    // // $('#tgt').append('{% for key, value in api_models[src].items() %} <option value={{key}} {% if tgt == key %} selected {% endif %} >{{ api_languages[key] }}</option> {% endfor %}');
    // $('#tgtbox').append('{% for key, value in api_models["xx"].items() %} <option value={{key}} {% if tgt == key %} selected {% endif %} >{{ api_languages[key] }}</option> {% endfor %}');
    // console.log($('#tgtbox').val());
    // if($('#typeOfGlass').val()==15){
        
    //     $('#glassWidth').append('<option value="20">20</option>');
    //     $('#glassWidth').append('<option value="21">21</option>');
    // }else{
    //     $('#glassWidth').append('<option value="6">6</option>');
    //     $('#glassWidth').append('<option value="7">7</option>');
    //     $('#glassWidth').append('<option value="8">8</option>');
    //     $('#glassWidth').append('<option value="9">9</option>');
    // }
});
</script>

</body>
</html>
